<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AOI Report — estonia_testland1</title>
  <style>
    :root { --fg:#111; --bg:#fff; --muted:#666; --card:#f6f7f9; --link:#0b5fff; }
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
           color: var(--fg); background: var(--bg); margin: 0; }
    header { border-bottom: 1px solid #e7e7e7; background: #fff; position: sticky; top: 0; }
    .wrap { max-width: 980px; margin: 0 auto; padding: 16px 20px; }
    nav a { margin-right: 14px; text-decoration: none; color: var(--link); font-weight: 600; }
    nav a.active { color: var(--fg); }
    main { padding: 18px 20px 40px; }
    h1 { margin: 0 0 6px; font-size: 22px; }
    p { line-height: 1.5; }
    .muted { color: var(--muted); }
    .card { background: var(--card); border: 1px solid #e8eaee; border-radius: 12px; padding: 14px 14px; }
    ul { padding-left: 18px; }
    code { background: #f1f1f1; padding: 1px 4px; border-radius: 6px; }
    #map { height: 420px; border: 1px solid #ddd; border-radius: 8px; margin: 12px 0 16px; background: #fafafa; }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
</head>
<body>
  <header>
    <div class="wrap">
      <nav>
        <a href="../../../index.html">Home</a>
        <a href="../../../articles/index.html">Articles</a>
        <a href="../../../dependencies/index.html">Dependencies</a>
        <a href="../../../regulation/links.html">Regulation</a>
        <a href="../../../regulation/sources.html">Sources</a>
        <a href="../../../regulation/policy_to_evidence_spine.html">Spine</a>
        <a href="../../../views/index.html">Views</a>
        <a href="../../index.html" class="active">AOI Reports</a>
        <a href="../../../dao_stakeholders/index.html">DAO (Stakeholders)</a>
        <a href="../../../dao_dev/index.html">DAO (Developers)</a>
      </nav>
    </div>
  </header>
  <main>
    <div class="wrap">
      <p class="muted"><a href="../../index.html">Back to AOI runs</a></p>
      <h1>AOI Report</h1>
      <p><b>AOI</b>: <code>estonia_testland1</code><br />
         <b>Bundle</b>: <code>example</code><br />
         <b>Generated (UTC)</b>: <code>2026-02-14T14:03:34+00:00</code></p>
      <div class="card">
        <h2>Core inspection artifacts</h2>
        <ul>
          <li><a href="aoi_report.json">aoi_report.json</a> (aoi_report.json)</li>
          <li><a href="reports/aoi_report_v2/estonia_testland1.html">reports/aoi_report_v2/estonia_testland1.html</a> (reports/aoi_report_v2/estonia_testland1.html)</li>
          <li><a href="reports/aoi_report_v2/estonia_testland1.json">reports/aoi_report_v2/estonia_testland1.json</a> (reports/aoi_report_v2/estonia_testland1.json)</li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/metrics.csv">reports/aoi_report_v2/estonia_testland1/metrics.csv</a> (reports/aoi_report_v2/estonia_testland1/metrics.csv)</li>
          <li><a href="inputs/aoi.geojson">inputs/aoi.geojson</a> (inputs/aoi.geojson)</li>
        </ul>
        <p class="muted">If a manifest is present in this bundle, it should also be linked from this page.</p>
      </div>
      <div class="card">
        <h2>Map (interactive)</h2>
        <p><a href="reports/aoi_report_v2/estonia_testland1/map/map_config.json">map_config.json</a></p>
        <div id="map"></div>
        <script>
          (function () {
            const map = L.map('map', { zoomControl: true });
            const satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
              attribution: 'Tiles © Esri — Source: Esri, Maxar, Earthstar Geographics, and the GIS User Community',
            }).addTo(map);
            const configUrl = 'reports/aoi_report_v2/estonia_testland1/map/map_config.json';
            fetch(configUrl)
              .then((resp) => resp.json())
              .then((config) => {
                const bbox = config.aoi_bbox;
                const bounds = L.latLngBounds([
                  [bbox.min_lat, bbox.min_lon],
                  [bbox.max_lat, bbox.max_lon],
                ]);
                map.fitBounds(bounds);
                const overlays = {};
                const baseLayers = { Satellite: satellite };
                const addGeoJson = (label, url, options) => {
                  if (!url) return;
                  fetch(url)
                    .then((r) => r.json())
                    .then((data) => {
                      const layer = L.geoJSON(data, options).addTo(map);
                      overlays[label] = layer;
                    });
                };
                addGeoJson('Forest cover 2000', config.layers.forest_2000, { style: { color: '#2e7d32', weight: 1, fillOpacity: 0.3 } });
                addGeoJson(`Forest cover ${config.latest_year}`, config.layers.forest_end_year, { style: { color: '#1b5e20', weight: 1, fillOpacity: 0.3 } });
                addGeoJson('Forest loss since 2020', config.layers.forest_loss_post_2020, { style: { color: '#c62828', weight: 1, fillOpacity: 0.4 } });
                addGeoJson('AOI boundary', config.layers.aoi_boundary, { style: { color: '#1976d2', weight: 2, fillOpacity: 0 } });
                addGeoJson('Maa-amet parcels', config.layers.parcels, {
                  style: { color: '#6a1b9a', weight: 1, fillOpacity: 0.05 },
                  onEachFeature: (feature, layer) => {
                    const props = feature.properties || {};
                    const label = `${props.parcel_id || ''} | forest_ha=${props.hansen_forest_area_ha ?? ''}`;
                    layer.bindTooltip(label, { sticky: true });
                  },
                });
                L.control.layers(baseLayers, overlays, { collapsed: false }).addTo(map);
              });
          })();
        </script>
      </div>
      <div class="card">
        <h2>What this example demonstrates</h2>
        <ul>
          <li>Inspectable artifacts with links + hashes (18 declared in <code>aoi_report.json</code>).</li>
          <li>Computed vs placeholder results are declared in <code>results[].status</code>.</li>
          <li>Other status values: <code>fail: forest_loss_post_2020_max_ha; pass: result-001</code>.</li>
          <li>Inspection shows declared evidence, not certification or compliance.</li>
        </ul>
      </div>
      <div class="card">
        <h2>Known evidence gaps (for DAO)</h2>
        <p class="muted">No gaps detected from <code>aoi_report.json</code>.</p>
      </div>
      <div class="card">
        <h2>Declared evidence artifacts</h2>
        <ul>
          <li><a href="inputs/aoi.geojson">inputs/aoi.geojson</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1.html">reports/aoi_report_v2/estonia_testland1.html</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1.json">reports/aoi_report_v2/estonia_testland1.json</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/hansen/forest_2000_tree_cover_mask.geojson">reports/aoi_report_v2/estonia_testland1/hansen/forest_2000_tree_cover_mask.geojson</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/hansen/forest_current_tree_cover_mask.geojson">reports/aoi_report_v2/estonia_testland1/hansen/forest_current_tree_cover_mask.geojson</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/hansen/forest_end_year_tree_cover_mask.geojson">reports/aoi_report_v2/estonia_testland1/hansen/forest_end_year_tree_cover_mask.geojson</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/hansen/forest_loss_post_2020_mask.geojson">reports/aoi_report_v2/estonia_testland1/hansen/forest_loss_post_2020_mask.geojson</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/hansen/forest_loss_post_2020_summary.json">reports/aoi_report_v2/estonia_testland1/hansen/forest_loss_post_2020_summary.json</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/hansen/forest_loss_post_2020_tiles.json">reports/aoi_report_v2/estonia_testland1/hansen/forest_loss_post_2020_tiles.json</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/hansen/forest_mask_debug.json">reports/aoi_report_v2/estonia_testland1/hansen/forest_mask_debug.json</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_fields_inventory.json">reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_fields_inventory.json</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_forest_area_crosscheck.csv">reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_forest_area_crosscheck.csv</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_forest_area_crosscheck.json">reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_forest_area_crosscheck.json</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_parcels_metadata.json">reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_parcels_metadata.json</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_top10_parcels.csv">reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_top10_parcels.csv</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_top10_parcels.geojson">reports/aoi_report_v2/estonia_testland1/maaamet/maaamet_top10_parcels.geojson</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/map/map_config.json">reports/aoi_report_v2/estonia_testland1/map/map_config.json</a></li>
          <li><a href="reports/aoi_report_v2/estonia_testland1/metrics.csv">reports/aoi_report_v2/estonia_testland1/metrics.csv</a></li>
        </ul>
      </div>
    </div>
  </main>
</body>
</html>
